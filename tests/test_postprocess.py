import json
import unittest

from nlptk import PostProcess


class TestStringMethods(unittest.TestCase):
    raw_response = """ {'basics': {'name': 'Janith Babaranda', 'label': 'MIE Aust | Project Engineer | Site Engineer | Civil Engineer', 'website': 'www.l inkedin.com/in/janith-nipuna', 'email': 'janithnipunabg@outlook.com', 'phone': '0425 713 822', 'summary': 'I am a dedicated Civil Engineer and a member of Engineers Austr alia. I have more than Six Years of extensive experience in construction, planning, and supervising diverse projects. My portfolio includes infrastructure and mixed-devel opment projects, including commercial, residential buildings and utility services. Currently residing in Australia, I am eagerly seeking new opportunities to leverage my expertise and drive innovation in the field.', 'url': 'www.linkedin.com/in/janith-nipuna', 'profiles': [], 'location': {'city': 'Graceville', 'address': '38 Frank Street' , 'region': '4075', 'countrycode': 'AU', 'postalcode': '4075'}}, 'work': [{'position': 'Project Engineer-Monitoring and Evaluating', 'name': 'Asian Development Bank (ADB) ', 'location': 'Sri Lanka', 'description': 'Project- Science & Technology Human Resource Development Project (STHRD) - Sri Lanka- US$ 145 million', 'enddate': 'February 2 024', 'startdate': 'January 2023', 'summary': 'Monitored and reported on project progress, managed procurement processes, contributed to bid evaluations, assessed claim s tatus, and verified project progress to ensure timely completion and compliance with project standards.', 'highlights': None, 'url': None}, {'position': 'Project Engineer ', 'name': 'Hayleys Unisyst Engineering PLC', 'location': 'Colombo, Sri Lanka', 'description': 'Project-Vallibel Mixed Development', 'enddate': 'January 2024', 'startdate ': 'August 2021', 'summary': 'Oversaw construction activities optimizing efficiencies and minimizing delays to adhere to budgets, scopes, and timelines. Managed procureme nt, coordinated project phases, and maintained documentation ensuring project quality.', 'highlights': ['Reported weekly and monthly progress optimizing resource allocati on through critical path analysis', 'Managed the overall procurement process ensuring timely delivery of materials', 'Coordinated construction lots for structural steel, concrete, and building services', 'Maintained documentation including QCPs, ITPs, RFIs, and SWMS', 'Set and assigned KPIs increasing labour productivity up to 20%'], 'url ': None}, {'position': 'Site Engineer', 'name': 'John Keells Holdings PLC', 'location': 'Sri Lanka', 'description': 'Project-Hakka Tranz Hotel Renovation- Cinnamon Hotels  & Resorts', 'enddate': 'August 2021', 'startdate': 'August 2020', 'summary': 'Supervised delivery of the entire hotel building and completed all civil works on time, col laborated with subcontractors, maintained HSEQ standards, and achieved project milestones.', 'highlights': ['Supervised finishes and fit-out works', 'Collaborated with su bcontractors and suppliers for timely delivery', 'Achieved zero lost time injuries', 'Utilized MS Project for tracking and reporting', 'Participated in project meetings t o discuss site issues'], 'url': None}, {'position': 'Site Engineer', 'name': 'Darinton Construction (Pvt)Ltd', 'location': 'Colombo, Sri Lanka', 'description': 'Project-D esign and Construction of the Roads & Pavillion at Henry Pedris Playground', 'enddate': 'July 2020', 'startdate': 'August 2019', 'summary': 'Monitored material procuremen t, managed construction tasks, and conducted geotechnical investigations supporting the development of the internal road network.', 'highlights': ['Conducted material pro curement and efficient resource utilization', 'Maintained budget control through precise forecasting', 'Oversaw tasks, excavation, backfilling, and installation of draina ge systems', 'Conducted geotechnical investigations for soil conditions'], 'url': None}, {'position': 'Civil Engineer', 'name': 'Signet Consultants (Pvt) Ltd', 'location' : 'Colombo, Sri Lanka', 'description': 'Structural Design and Construction', 'enddate': 'July 2019', 'startdate': 'January 2019', 'summary': 'Conducted structural analysi s and designs, provided technical support, and conducted geotechnical investigations for project optimization.', 'highlights': ['Utilized ETABS, SAP2000, and Prokon for s tructural analysis', 'Reviewed architectural plans for accuracy', 'Provided support for compiling BOQs and BOMs', 'Performed nondestructive testing and core testing'], 'u rl': None}, {'position': 'Civil Engineer, Intern', 'name': 'NCD Consultants (Pvt) Ltd', 'location': 'Colombo, Sri Lanka', 'description': '447 Luna Tower Mixed Development  Project', 'enddate': 'October 2018', 'startdate': 'November 2017', 'summary': 'Supervised construction of the pile raft foundation and oversaw various construction activ ities ensuring structural integrity.', 'highlights': ['Supervised construction of pile raft foundation, diaphragm walls, and deep excavation', 'Estimated concrete volumes  for structural members', 'Managed building fit-outs and interior designs for model apartments'], 'url': None}], 'education': [{'institution': 'University of Moratuwa Sri Lanka', 'area': 'Construction Project Management', 'studytype': 'Master of Science', 'startdate': 'August 2021', 'enddate': 'Present', 'url': None, 'score': None}, {'institution': 'University of Moratuwa, Sri Lanka', 'area': 'Civil Engineering', 'studytype': 'Bachelor of Engineering (Honours)', 'startdate': 'September 2014', 'enddate': 'December 2018', 'url': None, 'score': '2nd Class Division (Accredited by the Washington Accord)'}], 'projects': [{'name': 'Comprehensive Design Project -Yudaganawa Township Development Project', 'enddate': '2018', 'startdate': '2017', 'description': 'Served as Project Leader for the township development project, ensuring design excellence and achieving an A+ grade.', 'highlights': ['Designed resilient, sustainable infrastructure', 'Developed master plan for residential and commercial zones', 'Involved stakeholders in planning to gather feedback'], 'url': None}, {'name': 'Research Project â€“ Mechanical Behavior of Cement Stabilized Mud Concrete Blocks', 'enddate': '2018', 'startdate': '2017', 'description': 'Completed project with final thesis, achieving an A+ grade.', 'highlights': None, 'url': None}], 'volunteer': [], 'skills': [{'name': 'Civil/Structural Engineering', 'level': 'Advanced', 'keywords': None}, {'name': 'Project Management', 'level': 'Advanced', 'keywords': None}, {'name': 'Construction', 'level': 'Advanced', 'keywords': None}, {'name': 'Procurement', 'level': 'Advanced', 'keywords': None}, {'name': 'Cost Controlling', 'level': 'Advanced', 'keywords': None}, {'name': 'Health, Safety, Environmental, Quality (HSEQ)', 'level': 'Advanced', 'keywords': None}, {'name': 'Contract Administration', 'level': 'Advanced', 'keywords': None}, {'name': 'Monitor Construction', 'level': 'Advanced', 'keywords': None}, {'name': 'Infrastructure Projects', 'level': 'Advanced', 'keywords': None}, {'name': 'Mixed-Development Projects', 'level': 'Advanced', 'keywords': None}, {'name': 'Buildings', 'level': 'Advanced', 'keywords': None}, {'name': 'Utility Services', 'level': 'Advanced', 'keywords': None}, {'name': 'Piling', 'level': 'Advanced', 'keywords': None}, {'name': 'Bulk-Earth Works',  'level': 'Advanced', 'keywords': None}, {'name': 'Geotechnical Engineering', 'level': 'Advanced', 'keywords': None}], 'publications': [], 'languages': [], 'awards': [], 'certificates': [], 'references': [{'name': 'Available upon request', 'reference': None}], 'interests': []} """ #fmt: skip
    bad_response = """ { "basics": { "name": "Ghaida Petro \\ u019f Customer Service Representative \\ u019f gpetrofaraj@hotmail.com", "label": "", "email": "", "website": "", "phone": "506-233-6101", "url": "", "summary": " \\ "Hardworking and adaptable team player with leadership skills, capable of working independently and under pressure. Fluent in English and Arabic with proficiency in Microsoft Office Suite. \\ " \\ " \\ " \\ "", "location": { "city": "", "region": "", "address": "", "postalCode": "", "countryCode": "" }, "profiles": [] }, "work": [ { "name": "Asurion", "position": "Customer Service Representative \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019f \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ u019fe \\ """ # fmt: skip

    response_2 = """ { "basics": { "name": "", "label": "IT Operations Manager EMEA", "email": "Jon.Mark.Taylor@gmail.com", "website": "", "phone": "+447811402588", "url": "https://www.linkedin.com/in/jon-taylor-8864956", "summary": "Senior IT Leader | Overseeing seamless operations across EMEA, specialising in endpoint management, infrastructure support, security compliance, and team mentorship to enhance performance and user satisfaction while driving innovation and cost-effective solutions.", "location": { "city": "Woking", "region": "Surrey", "address": "", "postalCode": "", "countryCode": "UK" }, "profiles": [] }, "work": [ { "name": "F5", "position": "IT Operations Manager EMEA", "url": "", "location": "Chertsey/Remote [UK", "startDate": "2017-10-01", "endDate": "2025-03-31", "summary": "Led IT operations across EMEA, overseeing a team of 9 EUS professionals. Managed budgets, optimised costs, and ensured high service quality through SLA reporting. Provided infrastructure support, adherence to ITIL and other best practices, collaborated strategically with stakeholders, and maintained compliance while leveraging hands-on technical expertise in various systems.", "highlights": ["Implemented EMEA wide local call system.", "Identified not fit for purpose Audio Video meeting equipment, one of the very first companies to adopt new wireless AV kit - this was adopted globally.", "Instigated companywide standards including default and minimal Operating System versions.", "Introduced and enforced official policies and procedures - identified and closed security loopholes.", "Automated tasks to improve efficiencies.", "Moved to SAAS services such as active directory to Azure, 0365 and other cloud Microsoft Products, JAMF and Intune for Endpoint imaging.", "Led Device trust, Vulnerability Management, Beyond Trust Privilege Endpoint Management rollout.", "Saved over 150k globally by suggesting onsite aged servers be virtualised.", "Large cost savings by vendor negotiation on hardware and services.", "Provide WORLD CLASS technical support to the EMEA region proven by dashboards and reports from ServiceNow.", "EMEA region IT project lead and hands on resource for opening new offices in Paris, London, Saudi, Czech Republic and Warsaw", "During COVID came up with processes and strategy to ensure business as usual.", "Built and managed a support team across Europe and the Middle East.", "Introduced globally an endpoint backup solution.", "Smooth Introduction of Macs into the business."] }, { "name": "F5", "position": "Senior IT Site Manager/IT Site Manager", "url": "", "location": "Chertsey [UK]", "startDate": "2011-10-01", "endDate": "2017-10-31", "summary": "Managed IT operations and support across the EMEA region, ensuring seamless functionality of IT systems and infrastructure in offices located in Surrey, London, Paris, and Munich Responsibilities included overseeing comprehensive office refits and new office openings, involving the deployment of complete IT infrastructure, such as production data centres, voice and data networks, workstations, PCs, and other IT systems. Lead local strategic IT projects aligned with business objectives to drive operational efficiency and innovation. Recruited and mentored IT staff across supported regions to foster professional growth and ensure effective team performance. Identified opportunities for process improvements and implement innovative solutions to enhance operational workflows and efficiency. Collaborate extensively with the Seattle-based IT team to maintain consistency in operations and end-user support procedures across global locations. Oversaw vendor management processes across the EMEA region, including vendor selection, negotiation, onboarding, and compliance monitoring in collaboration with internal and external legal teams. Engaged with stakeholders to understand business requirements and translate them into actionable IT strategies, ensuring successful implementation of solutions that meet organisational goals.", "highlights": ["Building of theatre Support team.", "EMEA lead on huge initiative to get every single hardware item in the organisation into an ITAM register within Service Now.", "Key IT person ensuring the running of the customer facing"] }, { "name": "F5", "position": "Desktop Specialist", "url": "", "location": "Chertsey [UK]", "startDate": "2008-06-01", "endDate": "2011-10-31", "summary": "Various Support Roles and project lead roles Pre 2008 Fitness First Australia, NHS, Police, Wesleyan Assurance, Medical Sickness.", "highlights": [] } ], "education": [], "projects": [], "volunteer": [], "skills": [ { "name": "IT Operations & Service Management : ITIL Framework Adherence", "level": "", "keywords": [] }, { "name": "Automated Reporting & Dashboards", "level": "", "keywords": [] }, { "name": "Incident / Problem Management", "level": "", "keywords": [] }, { "name": "Critical System Redundancy", "level": "", "keywords": [] }, { "name": "Documentation", "level": "", "keywords": [] }, { "name": "Process & Procedures", "level": "", "keywords": [] }, { "name": "Alignment with Business Objectives", "level": "", "keywords": [] }, { "name": "IT Service Delivery", "level": "", "keywords": [] }, { "name": "IT Service Management", "level": "", "keywords": [] }, { "name": "Performance Metrics.", "level": "", "keywords": [] }, { "name": "Leadership & Team Development : Mentoring.", "level": "", "keywords": [] }, { "name": "Conflict resolution", "level": "", "keywords": [] }, { "name": "Impacting Feedback", "level": "", "keywords": [] }, { "name": "Emotional Intelligence", "level": "", "keywords": [] }, { "name": "Communication", "level": "", "keywords": [] }, { "name": "People Management", "level": "", "keywords": [] }, { "name": "Team Manager", "level": "", "keywords": [] }, { "name": "Team Leadership", "level": "", "keywords": [] }, { "name": "Providing Leadership.", "level": "", "keywords": [] }, { "name": "Project & Change Management : Collaboration", "level": "", "keywords": [] }, { "name": "Teamwork", "level": "", "keywords": [] } ], "publications": [], "languages": [], "awards": [], "certificates": [], "references": [], "interests": [] } """ #fmt: skip

    # def test_validation(self):
    #     pp = PostProcess()
    #     result, is_valid_json, is_valid_jsonresume = pp.postprocess(self.raw_response)
    #     print()
    #     print(f"is_valid_json:        {is_valid_json}")
    #     print(f"is_valid_jsonresume:  {is_valid_jsonresume}")
    #     print()
    #     # print(json.dumps(result, indent=2))
    #     assert is_valid_json == True
    #     assert is_valid_jsonresume == True
    #
    # def test_bad_response(self):
    #     pp = PostProcess()
    #     result, is_valid_json, is_valid_jsonresume = pp.postprocess(self.bad_response)
    #     print()
    #     print(f"is_valid_json:        {is_valid_json}")
    #     print(f"is_valid_jsonresume:  {is_valid_jsonresume}")
    #     print()
    #     # print(json.dumps(result, indent=2))
    #     assert is_valid_json == True
    #     assert is_valid_jsonresume == True


    # def test_problem(self):
    #     d = {"basics": {"name": "", "label": "Media and Comms Marketing Manager", "email": "", "website": "", "phone": "", "url": " ", "summary": "", "location": {"city": "", "region": "", "address": "", "postalCode": "", "countryCode": "", "postalcode": "", "countrycode": ""}, "profiles": []}, "work": [{"name": "INEOS Hygienics", "position": "Media and Comms Marketing Manager", "url": "", "location": "", "startDate": "", "endDate": "", "summary": "INEOS Hygienics is a division of the INEOS Group, famously 'the largest company you've never heard of'. INEOS offers high-performance hygiene products, including hand sanitisers, hand washes, cleaning sprays, and personal car e products such as body wash and deodorant, combining science and innovation to provide superior protection. INEOS has several high-profile sports partnerships, such as Manchester Un ited, Mercedes Formula One, The New Zealand All Blacks, Britannia Sailing and the Grenadier cycling team.", "description": "", "highlights": ["Top 3 Achievements :", "Im incredibly p roud of developing and launching the 'We Push the Science' T.V. ad. This campaign launched with a bang and was excitingly named Ad Forum's Ad of the Week. I managed the entire creati ve process, ensuring the brand's representation on set in Poland and ultimately setting the brand'strategy, and collaborated with the media agency to deliver a best-in-class media pl an.", "Creation and Management of Go Human's Academy : Collaborated with 1851 Trust on the Go Human's Academy a 100% Free Streaming service for teens, engaging over 600 schools and 1 8, 000 students and receiving a nomination for a Digital for Good award at the Drum Awards. As an extension of Go Human's Academy, we launched a UGC competition to design an F1 helme t for Sir Lewis Hamilton, garnering 27 million impressions and over 3, 000 entries. Go Humans Academy was rolled out across our partnerships, and it boosted engagement by 93%, workin g with INEOS athletes such as the New Zealand All Black's, Manchester United, INEOS Grenadiers, INEOS Britannia and other influencers.", "Managed our e-commerce platforms and grew on line share from 8% to 21%. I led this project with the aim of increasing online performance. I worked to redevelop all online content, delivering a fresh look and feel. This immediat ely drove a nine-percentage point increase in our online share of retailer's sales and continued to grow as we continued to work on our online strategy.", "Responsibilities :", "Soci al Channels : Developed the social media presence for INEOS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refresh of our retail media and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believe creativity is t he oxygen that allows a brand to flourish, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budge t TTL campaigns Including : T.V., Out of Home, Retail Media and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibility for ROI. I have  expertise in brand development, media strategy, including digital and social media strategy, and team leadership. I am experienced in managing relationships with high-profile influe ncers/ambassadors. In the last few years, I have worked across FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity environments. As a resu lt, I excel under pressure and manage difficult situations with calm, kindness.", {"highlights": ["Responsibilities :", "Social Channels : Developed the social media presence for INE OS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refresh of our retail m edia and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believe creativity is the oxygen that allows a brand to flourish, and data is th e water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of Home, Retail Med ia and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibility for ROI. I have expertise in brand development, media strategy, includin g digital and social media strategy, and team leadership. I am experienced in managing relationships with high-profile influencers/ambassadors. In the last few years, I have worked a cross FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity environments. As a result, I excel under pressure and manage difficult situation s with calm, kindness.", {"highlights": ["Responsibilities :", "Social Channels : Developed the social media presence for INEOS Hygienics, driving significant growth.", "Brand Develo pment Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refresh of our retail media and POS assets and Messaging Matrix, as well as ladd ering this up through all touch points.", "I believe creativity is the oxygen that allows a brand to flourish, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of Home, Retail Media and more, to brand identity, audience and messaging, a cross multiple markets. I also held a responsibility for ROI. I have expertise in brand development, media strategy, including digital and social media strategy, and team leadership.  I am experienced in managing relationships with high-profile influencers/ambassadors. In the last few years, I have worked across FMCG, Alcohol, and Luxury goods. I have worked exte nsively in startups and other high intensity environments. As a result, I excel under pressure and manage difficult situations with calm, kindness.", "Top 3 Achievements :", "1. Im i ncredibly proud of developing and launching the 'We Push the Science' T.V. ad. This campaign launched with a bang and was excitingly named Ad Forum's Ad of the Week. I managed the en tire creative process, ensuring the brand's representation on set in Poland and ultimately setting the brand'strategy, and collaborated with the media agency to deliver a best-in-cla ss media plan.", "2. Creation and Management of Go Human's Academy : Collaborated with 1851 Trust on the Go Human's Academy a 100% Free Streaming service for teens, engaging over 600  schools and 18, 000 students and receiving a nomination for a Digital for Good award at the Drum Awards. As an extension of Go Human's Academy, we launched a UGC competition to desi gn an F1 helmet for Sir Lewis Hamilton, garnering 27 million impressions and over 3, 000 entries. Go Humans Academy was rolled out across our partnerships, and it boosted engagement by 93%, working with INEOS athletes such as the New Zealand All Black's, Manchester United, INEOS Grenadiers, INEOS Britannia and other influencers.", "3. Managed our e-commerce plat forms and grew online share from 8% to 21%. I led this project with the aim of increasing online performance. I worked to redevelop all online content, delivering a fresh look and fe el. This immediately drove a nine-percentage point increase in our online share of retailer's sales and continued to grow as we continued to work on our online strategy.", "Responsib ilities :", "Social Channels : Developed the social media presence for INEOS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implement ation of the new brand BVI in 2023, implementing a refresh of our retail media and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believ e creativity is the oxygen that allows a brand to flourish, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of Home, Retail Media and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibilit y for ROI. I have expertise in brand development, media strategy, including digital and social media strategy, and team leadership. I am experienced in managing relationships with hi gh-profile influencers/ambassadors. In the last few years, I have worked across FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity enviro nments. As a result, I excel under pressure and manage difficult situations with calm, kindness.", {"highlights": ["Responsibilities :", "Social Channels : Developed the social media  presence for INEOS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refres h of our retail media and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believe creativity is the oxygen that allows a brand to flouris h, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of  Home, Retail Media and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibility for ROI. I have expertise in brand development, media s trategy, including digital and social media strategy, and team leadership. I am experienced in managing relationships with high-profile influencers/ambassadors. In the last few years , I have worked across FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity environments. As a result, I excel under pressure and manage di fficult situations with calm, kindness.", {"highlights": ["Responsibilities :", "Social Channels : Developed the social media presence for INEOS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refresh of our retail media and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believe creativity is the oxygen that allows a brand to flourish, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of Home, Retail Media and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibility for ROI. I have expertise in brand development, media strategy, including digital and social media strategy, and team leadership. I am experienced in managing relationships with high-profile influencers/ambassadors. In the last few years, I have worked across FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity environments. As a result, I excel under pressure and manage difficult situations with calm, kindness.", {"highlights": ["Responsibilities :", "Social Channels : Developed the social media presence for INEOS Hygienics, driving significant growth.", "Brand Development Strategy : Led the creation and TTL implementation of the new brand BVI in 2023, implementing a refresh of our retail media and POS assets and Messaging Matrix, as well as laddering this up through all touch points.", "I believe creativity is the oxygen that allows a brand to flourish, and data is the water that creates campaign effectiveness. In the last few years, I have been leading on all things brand - from high-budget TTL campaigns Including : T.V., Out of Home, Retail Media and more, to brand identity, audience and messaging, across multiple markets. I also held a responsibility for ROI. I have expertise in brand development, media strategy, including digital and social media strategy, and team leadership. I am experienced in managing relationships with high-profile influencers/ambassadors. In the last few years, I have worked across FMCG, Alcohol, and Luxury goods. I have worked extensively in startups and other high intensity environments. As a result, I excel under pressure and manage difficult situations with calm, kindness.", "Top 3 Achievements :", "1. Im incredibly proud of developing and launching the 'We Push the Science' T.V. ad. This campaign launched with a bang and was excitingly named Ad Forum's Ad of the Week. I managed the entire creative process, ensuring the brand's representation on set in Poland and ultimately setting the brand'strategy, and collaborated with the media agency to deliver a best-in-class media plan.", "2. Creation and Management of Go Human's Academy : Collaborated with 1851 Trust on the Go Human's Academy a 100% Free Streaming service for teens, engaging over 600 schools and 18, 000 students and receiving a nomination for a Digital for Good award at the Drum Awards. As an extension of Go Human's Academy, we launched a UGC competition to design an F1 helmet for Sir Lewis Hamilton, garnering 27 million impressions and over 3, 000 entries. Go Humans Academy was rolled out across our partnerships, and it boosted engagement by 93%, working with INEOS athletes such as the New Zealand All Black's, Manchester United, INEOS Grenadiers, INEOS Britannia and other influencers.", "Managed our e-commerce platforms and grew online share from 8% to 21%. I led this project with the aim of increasing online performance. I worked to redevelop all online content, delivering a fresh look and feel. This immediately drove a nine-percentage point increase in our online share of retailer's sales and continued to grow as we continued to work on our online strategy.", "Responsibilities :", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ","]}]}]}]}]}], "startdate": "2021-12-14", "enddate": ""}], "education": [], "projects": [], "volunteer": [], "skills": [], "publications": [], "languages": [], "awards": [], "certificates": [], "references": [], "interests": []}  #fmt: skip
    #     pp = PostProcess()
    #     # result, is_valid_json, is_valid_jsonresume = pp.postprocess(response)
    #     d = pp._union_jsonresume(d)
    #     d = pp._normalize_jsonresume(d)
    #     is_valid_json = True
    #     # validate = JRValidate()
    #     # d = self.conv.normalize_camel_case(d)
    #     # outdata = self.conv.reorder_all_sections(d)
    #     # is_valid_jsonresume = validate.is_valid_json_resume(outdata)
    #
    #
    #     print()
    #     print(f"is_valid_json:        {is_valid_json}")
    #     # print(f"is_valid_jsonresume:  {is_valid_jsonresume}")
    #     print()
    #     # print(json.dumps(result, i


    def test_response_2(self):
        pp = PostProcess()
        result, is_valid_json, is_valid_jsonresume = pp.postprocess(self.response_2)
        print()
        print(f"is_valid_json:        {is_valid_json}")
        print(f"is_valid_jsonresume:  {is_valid_jsonresume}")
        print()
        # print(json.dumps(result, indent=2))
        assert is_valid_json == True
        assert is_valid_jsonresume == True


if __name__ == '__main__':
    unittest.main()
